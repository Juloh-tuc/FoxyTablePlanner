/* src/styles/planner-common.css 
   Styles réutilisables entre tous les planners (Agile, Tableau, Semainier)
   Dépend de src/styles/tokens.css pour les variables. */

/* Fallback focus ring si non défini dans les tokens */
:root{
  --focus-ring: var(--focus-ring, 0 0 0 0.1875rem rgba(124,58,237,.20)); /* ~3px */
}

/* =============== Pastilles (points de couleur) =============== */
.dot{
  width:0.625rem;  /* 10px */
  height:0.625rem; /* 10px */
  border-radius:50%;
  display:inline-block;
  flex:0 0 0.625rem;
}
.dot.priority{ background:var(--st-priority); }
.dot.progress{ background:var(--st-progress); }
.dot.wait    { background:var(--st-wait); }
.dot.blocked { background:var(--st-blocked); }
.dot.done    { background:var(--st-done); }
.dot.info    { background:var(--st-info); }

/* variantes de taille utiles au besoin */
.dot--sm{ width:0.5rem; height:0.5rem; }     /* 8px  */
.dot--lg{ width:0.75rem; height:0.75rem; }   /* 12px */

/* =============== Chips de statut (pilules) =============== */
.status-chip{
  display:inline-flex; align-items:center; gap:0.5rem;      /* 8px */
  padding:0.375rem 0.625rem;                                 /* 6px 10px */
  border-radius:999px;
  background:#fff; border:1px solid var(--border);
  font-weight:700; font-size:.9rem; line-height:1;
  transition:transform .12s ease, box-shadow .12s ease;
}
.status-chip .dot{ box-shadow:inset 0 0 0 1px rgba(0,0,0,.06); }
.status-chip:hover{ transform:translateY(-0.0625rem); box-shadow:var(--shadow-sm); } /* 1px */
.status-chip:focus-visible{
  outline: none;
  box-shadow: var(--focus-ring);
}

/* teintes par statut (légèrement colorées, lisibles sur #FAFAFA) */
.status-chip.is-progress{
  background:rgba(252,205,4,.18);
  border-color:rgba(252,205,4,.35);
  color:#6b4e00;
}
.status-chip.is-wait{
  background:rgba(255,180,143,.18);
  border-color:rgba(255,180,143,.35);
  color:#7a3f2a;
}
.status-chip.is-blocked{
  background:rgba(226,77,77,.16);
  border-color:rgba(226,77,77,.35);
  color:#7a1c1c;
}
.status-chip.is-done{
  background:rgba(23,233,224,.18);
  border-color:rgba(23,233,224,.35);
  color:#0b6b66;
}
.status-chip.is-info{
  background:rgba(77,124,254,.16);
  border-color:rgba(77,124,254,.35);
  color:#1c3a96;
}
.status-chip.is-priority{
  background:rgba(166,74,201,.14);
  border-color:rgba(166,74,201,.35);
  color:#4a1f5a;
}

/* =============== Badge de priorité (dégradé selon niveau) =============== */
/* Utilisation : <span class="badge-prio" data-level="Élevé|Moyen|Faible">…</span> */
.badge-prio{
  display:inline-flex; align-items:center; gap:0.375rem;     /* 6px */
  padding:0.25rem 0.75rem;                                   /* 4px 12px */
  border-radius:999px; font-weight:800;
  border:1px solid transparent; box-shadow:var(--shadow-sm);
  transition:transform .12s ease, box-shadow .12s ease;
  line-height:1;
}
.badge-prio:hover{ transform:translateY(-0.0625rem); box-shadow:var(--shadow); } /* 1px */
.badge-prio .dot{
  width:0.625rem; height:0.625rem;                           /* 10px */
  border-radius:50%;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);
}

/* Priorité Élevé (foncé, très contrasté) */
.badge-prio[data-level="Élevé"]{
  background:linear-gradient(135deg,var(--prio-hi-1),var(--prio-hi-2));
  color:var(--prio-hi-text);
  border-color:rgba(76,29,149,.55); /* #4C1D95 */
}
.badge-prio[data-level="Élevé"] .dot{ background:#4C1D95; }

/* Priorité Moyen (violet soutenu) */
.badge-prio[data-level="Moyen"]{
  background:linear-gradient(135deg,var(--prio-md-1),var(--prio-md-2));
  color:var(--prio-md-text);
  border-color:rgba(124,58,237,.55); /* #7C3AED */
}
.badge-prio[data-level="Moyen"] .dot{ background:#7C3AED; }

/* Priorité Faible (pastel lisible) */
.badge-prio[data-level="Faible"]{
  background:linear-gradient(135deg,var(--prio-lo-1),var(--prio-lo-2));
  color:var(--prio-lo-text);
  border-color:rgba(76,29,149,.25); /* #4C1D95 en léger */
}
.badge-prio[data-level="Faible"] .dot{ background:#A78BFA; }

/* Fallback si data-level absent → utilise la teinte priorité générique */
.badge-prio:not([data-level]){
  background:linear-gradient(135deg,#C4B5FD,#A78BFA);
  color:#321B6B;
  border-color:rgba(76,29,149,.25);
}

/* =============== Tag utilisateur / méta =============== */
.tag{
  display:inline-flex; align-items:center; gap:0.375rem;      /* 6px */
  padding:0.25rem 0.625rem;                                    /* 4px 10px */
  border-radius:999px; font-size:.85rem; font-weight:600;
  background:#EEF2FF; border:1px solid var(--border); color:#1e293b;
}

/* =============== Légende (liste d’items avec pastille/texte) =============== */
.legend{ display:flex; gap:0.625rem; flex-wrap:wrap; }        /* 10px */
.legend .item{ display:flex; align-items:center; gap:0.5rem; }/* 8px  */

/* =============== Accessibilité =============== */
.tag:focus-visible,
.badge-prio:focus-visible,
.status-chip:focus-visible{
  outline: none;
  box-shadow: var(--focus-ring);
}

/* =============== Réduction de mouvement (préférence utilisateur) =============== */
@media (prefers-reduced-motion: reduce){
  .status-chip, .badge-prio{ transition:none; }
}
